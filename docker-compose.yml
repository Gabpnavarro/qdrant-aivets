version: '3.9'

services:
  qdrant:
    image: qdrant/qdrant:latest
    container_name: qdrant
    restart: always
    environment:
      - QDRANT_SERVICE_API_KEY=${QDRANT_API_KEY}
    ports:
      - "6333:6333"
      - "6334:6334"
    volumes:
      - ./data:/qdrant/storage
      - ./config.yaml:/qdrant/config.yaml
    command: ./qdrant --config /qdrant/config.yaml
    deploy:
      resources:
        limits:
          cpus: "0.5"
          memory: 1024M
